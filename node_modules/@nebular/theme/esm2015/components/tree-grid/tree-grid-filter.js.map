{"version":3,"file":"tree-grid-filter.js","sourceRoot":"","sources":["../../../../../../.ng_build/theme/components/tree-grid/tree-grid-filter.ts"],"names":[],"mappings":"AAAA;;;;GAIG;;;;;;;;;;;AAEH,OAAO,EAAE,SAAS,EAAE,YAAY,EAAE,KAAK,EAAqB,MAAM,eAAe,CAAC;AAClF,OAAO,EAAE,OAAO,EAAE,MAAM,MAAM,CAAC;AAC/B,OAAO,EAAE,YAAY,EAAE,SAAS,EAAE,MAAM,gBAAgB,CAAC;AAKzD,IAAa,iBAAiB,GAA9B,MAAa,iBAAiB;IAG5B,MAAM,CAAC,aAAqB;QAC1B,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;IACxC,CAAC;CACF,CAAA;AALoB;IAAlB,KAAK,CAAC,UAAU,CAAC;;qDAA0B;AADjC,iBAAiB;IAD7B,SAAS,CAAC,EAAE,QAAQ,EAAE,YAAY,EAAE,CAAC;GACzB,iBAAiB,CAM7B;SANY,iBAAiB;AAQ9B;;GAEG;AAKH,IAAa,sBAAsB,8BAAnC,MAAa,sBAAuB,SAAQ,iBAAiB;IAP7D;;OAEG;IACH;;QAKU,YAAO,GAAoB,IAAI,OAAO,EAAU,CAAC;QACjD,UAAK,GAAY,IAAI,CAAC;QAI9B;;;WAGG;QACM,iBAAY,GAAW,GAAG,CAAC;IAsBtC,CAAC;IApBC,QAAQ;QACN,IAAI,CAAC,OAAO;aACT,IAAI,CACH,SAAS,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,EAC3B,YAAY,CAAC,IAAI,CAAC,YAAY,CAAC,CAChC;aACA,SAAS,CAAC,CAAC,KAAa,EAAE,EAAE;YAC3B,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAA;QACrB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,WAAW;QACT,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;IAC1B,CAAC;IAGD,MAAM,CAAC,KAAK;QACV,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IACxC,CAAC;CACF,CAAA;AA5ByB;IAAvB,KAAK,CAAC,eAAe,CAAC;;0DAA0B;AAMxC;IAAR,KAAK,EAAE;;4DAA4B;AAmBpC;IADC,YAAY,CAAC,OAAO,EAAE,CAAC,QAAQ,CAAC,CAAC;;;;oDAGjC;AA/BU,sBAAsB;IAJlC,SAAS,CAAC;QACT,QAAQ,EAAE,iBAAiB;QAC3B,SAAS,EAAE,CAAC,EAAE,OAAO,EAAE,iBAAiB,EAAE,WAAW,EAAE,wBAAsB,EAAE,CAAC;KACjF,CAAC;GACW,sBAAsB,CAgClC;SAhCY,sBAAsB","sourcesContent":["/*\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n\nimport { Directive, HostListener, Input, OnDestroy, OnInit } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { debounceTime, takeWhile } from 'rxjs/operators';\n\nimport { NbFilterable } from './data-source/tree-grid-data-source';\n\n@Directive({ selector: '[nbFilter]' })\nexport class NbFilterDirective {\n  @Input('nbFilter') filterable: NbFilterable;\n\n  filter(filterRequest: string) {\n    this.filterable.filter(filterRequest);\n  }\n}\n\n/**\n * Helper directive to trigger data source's filter method when user types in input\n */\n@Directive({\n  selector: '[nbFilterInput]',\n  providers: [{ provide: NbFilterDirective, useExisting: NbFilterInputDirective }],\n})\nexport class NbFilterInputDirective extends NbFilterDirective implements OnInit, OnDestroy {\n  private search$: Subject<string> = new Subject<string>();\n  private alive: boolean = true;\n\n  @Input('nbFilterInput') filterable: NbFilterable;\n\n  /**\n   * Debounce time before triggering filter method. Set in milliseconds.\n   * Default 200.\n   */\n  @Input() debounceTime: number = 200;\n\n  ngOnInit() {\n    this.search$\n      .pipe(\n        takeWhile(() => this.alive),\n        debounceTime(this.debounceTime),\n      )\n      .subscribe((query: string) => {\n        super.filter(query)\n      });\n  }\n\n  ngOnDestroy() {\n    this.alive = false;\n    this.search$.complete();\n  }\n\n  @HostListener('input', ['$event'])\n  filter(event) {\n    this.search$.next(event.target.value);\n  }\n}\n"]}