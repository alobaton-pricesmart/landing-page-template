{"version":3,"file":"calendar-year-picker.component.js","sourceRoot":"","sources":["../../../../../../../../.ng_build/theme/components/calendar-kit/components/calendar-year-picker/calendar-year-picker.component.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  EventEmitter,\n  HostBinding,\n  Input,\n  OnChanges,\n  Output,\n  Type,\n} from '@angular/core';\nimport { batch, range } from '../../helpers';\nimport { NbCalendarCell, NbCalendarSize } from '../../model';\nimport { NbCalendarYearCellComponent } from './calendar-year-cell.component';\nimport { NbDateService } from '../../services/date.service';\n\nexport const YEARS_IN_VIEW = 20;\nexport const YEARS_IN_COLUMN = 4;\n\n@Component({\n  selector: 'nb-calendar-year-picker',\n  template: `\n    <nb-calendar-picker\n      [data]=\"years\"\n      [min]=\"min\"\n      [max]=\"max\"\n      [filter]=\"filter\"\n      [selectedValue]=\"date\"\n      [visibleDate]=\"year\"\n      [cellComponent]=\"cellComponent\"\n      (select)=\"onSelect($event)\">\n    </nb-calendar-picker>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class NbCalendarYearPickerComponent<D> implements OnChanges {\n\n  @Input() date: D;\n\n  @Input() min: D;\n\n  @Input() max: D;\n\n  @Input() filter: (D) => boolean;\n\n  @Input('cellComponent')\n  set _cellComponent(cellComponent: Type<NbCalendarCell<D, D>>) {\n    if (cellComponent) {\n      this.cellComponent = cellComponent;\n    }\n  }\n  cellComponent: Type<NbCalendarCell<D, D>> = NbCalendarYearCellComponent;\n\n  @Input() size: NbCalendarSize = NbCalendarSize.MEDIUM;\n\n  @Input() year: D;\n\n  @Output() yearChange = new EventEmitter<D>();\n\n  @HostBinding('class.medium')\n  get medium() {\n    return this.size === NbCalendarSize.MEDIUM;\n  }\n\n  @HostBinding('class.large')\n  get large() {\n    return this.size === NbCalendarSize.LARGE;\n  }\n\n  years: D[][];\n\n  constructor(protected dateService: NbDateService<D>) {\n  }\n\n  ngOnChanges() {\n    this.initYears();\n  }\n\n  initYears() {\n    const selectedYear = this.dateService.getYear(this.year);\n    const startYear = Math.ceil(selectedYear - YEARS_IN_VIEW / 2);\n    const years = range(YEARS_IN_VIEW).map(i => this.createYearDateByIndex(i + startYear));\n    this.years = batch(years, YEARS_IN_COLUMN);\n  }\n\n  onSelect(year) {\n    this.yearChange.emit(year);\n  }\n\n  private createYearDateByIndex(i: number): D {\n    return this.dateService.createDate(i, this.dateService.getMonth(this.year), this.dateService.getDate(this.year));\n  }\n}\n"]}