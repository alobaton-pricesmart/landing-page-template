{"version":3,"file":"calendar-picker-row.component.js","sourceRoot":"","sources":["../../../../../../../../.ng_build/theme/components/calendar-kit/components/calendar-picker/calendar-picker-row.component.ts"],"names":[],"mappings":"AAAA;;;;GAIG;;;;;;;;;;AAEH,OAAO,EACL,uBAAuB,EACvB,SAAS,EACT,wBAAwB,EACxB,YAAY,EACZ,KAAK,EAEL,MAAM,EACN,WAAW,EACX,IAAI,EACJ,SAAS,EACT,gBAAgB,GACjB,MAAM,eAAe,CAAC;AAgBvB,IAAa,4BAA4B,GAAzC,MAAa,4BAA4B;IAavC,YAAoB,GAA6B;QAA7B,QAAG,GAAH,GAAG,CAA0B;QALvC,WAAM,GAAoB,IAAI,YAAY,EAAE,CAAC;IAMvD,CAAC;IAED,WAAW;QACT,MAAM,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,uBAAuB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAEjE,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;QAE1B,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,IAAO,EAAE,EAAE;YAC3B,MAAM,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;YAC7D,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;YAChD,SAAS,CAAC,iBAAiB,CAAC,aAAa,EAAE,CAAC;QAC9C,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,gBAAgB,CAAC,SAA+B,EAAE,IAAO;QAC/D,SAAS,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QACzC,SAAS,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;QAC7C,SAAS,CAAC,IAAI,GAAG,IAAI,CAAC;QACtB,SAAS,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;QACzB,SAAS,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;QACzB,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QAC/B,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;IACjE,CAAC;CACF,CAAA;AApCU;IAAR,KAAK,EAAE;;yDAAU;AACT;IAAR,KAAK,EAAE;;mEAAkB;AACjB;IAAR,KAAK,EAAE;;iEAAgB;AACf;IAAR,KAAK,EAAE;8BAAY,IAAI;+DAAuB;AACtC;IAAR,KAAK,EAAE;;yDAAQ;AACP;IAAR,KAAK,EAAE;;yDAAQ;AACP;IAAR,KAAK,EAAE;;4DAAwB;AACtB;IAAT,MAAM,EAAE;8BAAS,YAAY;4DAAyB;AAGW;IAAjE,SAAS,CAAC,WAAW,EAAE,EAAE,IAAI,EAAE,gBAAgB,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;8BAAe,gBAAgB;kEAAC;AAXtF,4BAA4B;IAXxC,SAAS,CAAC;QACT,QAAQ,EAAE,wBAAwB;QAOlC,QAAQ,EAAE,6BAA6B;QACvC,eAAe,EAAE,uBAAuB,CAAC,MAAM;iBAPtC;;;;;GAKR;KAGF,CAAC;qCAcyB,wBAAwB;GAbtC,4BAA4B,CAqCxC;SArCY,4BAA4B","sourcesContent":["/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  ComponentFactoryResolver,\n  EventEmitter,\n  Input,\n  OnChanges,\n  Output,\n  TemplateRef,\n  Type,\n  ViewChild,\n  ViewContainerRef,\n} from '@angular/core';\n\nimport { NbCalendarCell } from '../../model';\n\n\n@Component({\n  selector: 'nb-calendar-picker-row',\n  styles: [`\n    :host {\n      display: flex;\n      justify-content: space-between;\n    }\n  `],\n  template: '<ng-template></ng-template>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class NbCalendarPickerRowComponent<D, T> implements OnChanges {\n  @Input() row: D[];\n  @Input() selectedValue: T;\n  @Input() visibleDate: D;\n  @Input() component: Type<NbCalendarCell<D, T>>;\n  @Input() min: D;\n  @Input() max: D;\n  @Input() filter: (D) => boolean;\n  @Output() select: EventEmitter<D> = new EventEmitter();\n\n  // TODO static must be false as of Angular 9.0.0, issues/1514\n  @ViewChild(TemplateRef, { read: ViewContainerRef, static: true }) containerRef: ViewContainerRef;\n\n  constructor(private cfr: ComponentFactoryResolver) {\n  }\n\n  ngOnChanges() {\n    const factory = this.cfr.resolveComponentFactory(this.component);\n\n    this.containerRef.clear();\n\n    this.row.forEach((date: D) => {\n      const component = this.containerRef.createComponent(factory);\n      this.patchWithContext(component.instance, date);\n      component.changeDetectorRef.detectChanges();\n    });\n  }\n\n  private patchWithContext(component: NbCalendarCell<D, T>, date: D) {\n    component.visibleDate = this.visibleDate;\n    component.selectedValue = this.selectedValue;\n    component.date = date;\n    component.min = this.min;\n    component.max = this.max;\n    component.filter = this.filter;\n    component.select.subscribe(this.select.emit.bind(this.select));\n  }\n}\n"]}